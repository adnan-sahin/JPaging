//JQuery Paging Plugin v1.5
//Written By Adnan ŞAHİN
!(function(a) {
  "use strict";
  a.fn.JPaging = function(e) {
    var i = a.extend({ pageSize: 10, visiblePageSize: 5 }, e),
      n = i.pageSize,
      d = i.visiblePageSize,
      t = a(this).find("tbody"),
      s = t.find("tr");
    a("<div id='paging'></div>").insertAfter(this);
    var o = s.length,
      p = 2,
      r = Math.round(o / n);
    if ((o > 0 && n * r < o && r++, 0 == d && (d = 1), r >= 1 && d >= 1)) {
      a("#paging").append(
        "<a href='javascript:void(0)' style='font-weight:700;'><"
      ),
        r > d &&
          a("#paging").append(
            "<a href='javascript:void(0)' id='pre_point' class='hidden'>..."
          );
      for (var g = 1; g <= r; g++)
        g <= d
          ? a("#paging").append("<a href='javascript:void(0)'>" + g + "</a>")
          : g > d &&
            a("#paging").append(
              "<a href='javascript:void(0)' class='hidden'>" + g + "</a>"
            );
      r > d &&
        a("#paging").append("<a href='javascript:void(0)' id='next_point'>..."),
        a("#paging").append(
          "<a href='javascript:void(0)' style='font-weight:700;'>>"
        ),
        t.find("tr:gt(" + (n - 1) + ")").hide(),
        a("#paging a:eq(" + p + ")").addClass("aktif");
    }
    a("#pre_point").on("click", function(e) {
      e.preventDefault();
      var i = a(this)
        .nextAll("a:not('.hidden,#next_point')")
        .first()
        .index();
      a("#paging a:eq(" + (i + d - 1) + ")").addClass("hidden"),
        a("#paging a").removeClass("aktif"),
        a("#paging a:eq(" + (i - 1) + ")")
          .removeClass("hidden")
          .addClass("aktif");
      var t = n * ((p = i - 1) - 1);
      s.hide();
      for (var o = t - n; o < t; o++) s.eq(o).show();
      p - 1 == r && d < r
        ? a("#next_point").addClass("hidden")
        : p < r + d && d < r && a("#next_point").removeClass("hidden"),
        p > 2 && d < r
          ? a("#pre_point").removeClass("hidden")
          : p <= 2 && d < r && a("#pre_point").addClass("hidden");
    }),
      a("#next_point").on("click", function(e) {
        e.preventDefault();
        var i = a(this)
          .prevAll("a:not('.hidden')")
          .first()
          .index();
        console.log("prevIndex:" + i),
          a("#paging a:eq(" + (i - d + 1) + ")").addClass("hidden"),
          a("#paging a").removeClass("aktif"),
          a("#paging a:eq(" + (i + 1) + ")")
            .removeClass("hidden")
            .addClass("aktif");
        var t = n * (p = i);
        s.hide();
        for (var o = t - n; o < t; o++) s.eq(o).show();
        p == r && d < r
          ? a("#next_point").addClass("hidden")
          : p < r && d < r && a("#next_point").removeClass("hidden"),
          p > d && d < r
            ? a("#pre_point").removeClass("hidden")
            : p < d && d < r && a("#pre_point").addClass("hidden");
      }),
      a("#paging").on("click", "a:not('#pre_point,#next_point')", function() {
        var e = a(this).index();
        if (
          (console.log(
            "curindex:" + p + " visible_page_count:" + d + " pageCount:" + r
          ),
          !0 === a(this).is("#paging a:first"))
        ) {
          if (2 === p) return !1;
          p - 2 == r && d < r
            ? a("#next_point").addClass("hidden")
            : p - 2 <= r - d && d < r && a("#next_point").removeClass("hidden"),
            p - 1 > 2 && d < r
              ? a("#pre_point").removeClass("hidden")
              : p - 1 <= 2 && d < r && a("#pre_point").addClass("hidden");
          var i = n * ((p -= 1) - 1);
          a("#paging a").removeClass("aktif"),
            a("#paging a:not('#next_point'):eq(" + p + ")").addClass("aktif"),
            a("#paging a:not('#next_point'):eq(" + p + ")").removeClass(
              "hidden"
            ),
            a("#paging a.hidden").length >= 1 &&
              a(
                "#paging a:not('#next_point,#paging a:last'):eq(" +
                  (p + d) +
                  ")"
              ).addClass("hidden"),
            s.hide();
          for (var t = i - n; t < i; t++) s.eq(t).show();
          return (
            console.log(
              "end curindex:" +
                p +
                " visible_page_count:" +
                d +
                " pageCount:" +
                r
            ),
            !1
          );
        }
        if (!0 === a(this).is("#paging a:last")) {
          if (p - 1 === r) return !1;
          p == r && d < r
            ? a("#next_point").addClass("hidden")
            : p < r && d < r && a("#next_point").removeClass("hidden"),
            p > d && d < r
              ? a("#pre_point").removeClass("hidden")
              : p < d && d < r && a("#pre_point").addClass("hidden");
          var o = n * ((p += 1) - 1);
          a("#paging a").removeClass("aktif"),
            a("#paging a:eq(" + p + ")").addClass("aktif"),
            a("#paging a:eq(" + p + ")").removeClass("hidden"),
            p - 1 > d &&
              a("#paging a.hidden").length >= 1 &&
              (console.log("cc" + (p - d)),
              a(
                "#paging a:not('#next_point,#paging a:last'):eq(" +
                  (p - d) +
                  ")"
              ).addClass("hidden")),
            s.hide();
          for (var g = o - n; g < o; g++) s.eq(g).show();
          return !1;
        }
        var l = n * (p = e - 1);
        a("#paging a").removeClass("aktif"),
          a(this).addClass("aktif"),
          s.hide();
        for (var h = l - n; h < l; h++) s.eq(h).show();
      });
  };
})(jQuery);
